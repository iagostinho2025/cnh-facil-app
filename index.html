<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNH F√°cil - App</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4f46e5">
	<meta property="og:title" content="CNH F√°cil - Simulado Detran">
    <meta property="og:description" content="Estude para a prova te√≥rica com simulados, modo desafio e hist√≥rico de desempenho.">
    <meta property="og:image" content="https://cnh-facil-app.vercel.app/assets/icons/icon-512.png"> <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
</head>
<body>

    <div id="app">
        
        <div id="tela-inicial">
            <div class="logo-area">
                <h1>üöó CNH F√°cil</h1>
                <p>Seu instrutor de bolso</p>
            </div>
            
            <button id="btn-simulado" class="btn-menu grande">
                <span>üìù Fazer Simulado</span>
                <small>30 quest√µes aleat√≥rias ‚Ä¢ 40 min</small>
            </button>

            <button id="btn-temas" class="btn-menu">
                <span>üìö Estudar por Tema</span>
            </button>
            
            <button id="btn-historico" class="btn-menu">
                <span>üìä Meu Desempenho</span>
            </button>

            <button id="btn-modo-desafio" class="btn-menu destaque-roxo">
                <span>üèÜ Modo Desafio</span>
                <small>Personalize seu treino</small>
            </button>

            <div style="margin-top: 30px; margin-bottom: 20px;">
                <button id="btn-abrir-privacidade" style="background:none; border:none; color: #94a3b8; font-size: 0.8rem; cursor: pointer; text-decoration: underline;">
                    Termos de Uso e Privacidade
                </button>
            </div>
        </div>

        <div id="tela-intro-simulado" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-intro-simulado">‚¨Ö Voltar</button>
            </div>
            
            <div class="card-briefing">
                <div id="briefing-icon" style="background: #e0e7ff; color: #4f46e5;">üìù</div>
                
                <h2>Simulado Completo</h2>
                <p style="margin-bottom: 20px;">Teste seus conhecimentos com quest√µes elaboradas com base no CTB.</p>
                
                <ul style="text-align: left; color: #64748b; margin-bottom: 30px; list-style: none; padding: 0;">
                    <li style="margin-bottom: 10px;">‚úÖ <strong>30 Quest√µes</strong> sorteadas aleatoriamente.</li>
                    <li style="margin-bottom: 10px;">‚è±Ô∏è <strong>40 Minutos</strong> de tempo limite.</li>
                    <li>üéØ Precisa de <strong>21 acertos</strong> (70%) para passar.</li>
                </ul>

                <button id="btn-iniciar-simulado-real" class="btn-menu grande">
                    Come√ßar a Prova
                </button>

                <p style="font-size: 0.75rem; color: #94a3b8; margin-top: 25px; border-top: 1px solid #f1f5f9; padding-top: 15px;">
                    Este aplicativo √© estritamente educativo e n√£o possui v√≠nculo com o Detran. As quest√µes s√£o autorais.
                </p>
            </div>
        </div>

        <div id="tela-temas" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-temas">‚¨Ö Voltar</button>
                <h2>Escolha um Tema</h2>
            </div>
            <div id="lista-temas">
                </div>
        </div>

        <div id="tela-briefing" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-briefing">‚¨Ö Voltar</button>
            </div>
            
            <div class="card-briefing">
                <div id="briefing-icon">üìò</div>
                <h2 id="briefing-titulo">T√≠tulo</h2>
                <p id="briefing-desc">Descri√ß√£o do tema...</p>
                
                <div class="briefing-meta">
                    <span id="briefing-qtd">0 quest√µes</span>
                    <span>‚Ä¢</span>
                    <span>Sem tempo limite</span>
                </div>

                <button id="btn-iniciar-tema-focado" class="btn-menu grande">
                    Come√ßar Agora
                </button>
            </div>
        </div>

        <div id="tela-desafio-setup" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-desafio">‚¨Ö Voltar</button>
                <h2>Configurar Desafio</h2>
            </div>

            <div class="setup-container">
                <div class="setup-group">
                    <label>üìö Qual o foco?</label>
                    <select id="setup-tema" class="input-select">
                        <option value="todos">Todos os Temas (Misturado)</option>
                        </select>
                </div>

                <div class="setup-group">
                    <label>üéØ Quantas quest√µes?</label>
                    <div class="chips-container" id="setup-qtd-container">
                        <button class="chip-option" data-value="10">10</button>
                        <button class="chip-option selected" data-value="30">30</button>
                        <button class="chip-option" data-value="50">50</button>
                        <button class="chip-option" data-value="999">Todas</button>
                    </div>
                </div>

                <div class="setup-group">
                    <label>‚è±Ô∏è Tempo limite?</label>
                    <div class="chips-container" id="setup-tempo-container">
                        <button class="chip-option" data-value="10">10 min</button>
                        <button class="chip-option" data-value="20">20 min</button>
                        <button class="chip-option selected" data-value="40">40 min</button>
                        <button class="chip-option" data-value="60">1h</button>
                    </div>
                </div>

                <button id="btn-iniciar-desafio-custom" class="btn-menu grande">
                    Aceitar Desafio
                </button>
            </div>
        </div>

        <div id="tela-historico" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-historico">‚¨Ö Voltar</button>
                <h2>Seus Resultados</h2>
            </div>
            <div id="lista-historico">
                </div>
        </div>

        <div id="tela-detalhes-historico" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-detalhes">‚¨Ö Voltar</button>
                <h2>Revis√£o</h2>
            </div>

            <div class="resumo-revisao">
                <h3 id="detalhe-titulo">Simulado - Data</h3>
                <div class="placar-mini">
                    <span id="detalhe-nota">0/0</span>
                </div>
            </div>

            <button id="btn-refazer-erros" class="btn-menu destaque-roxo" style="margin-bottom: 20px; display: none;">
                <span>üîÑ Refazer as Quest√µes Erradas</span>
                <small>Modo estudo (sem tempo)</small>
            </button>

            <h4 style="margin-bottom: 15px; color: #64748b;">Quest√µes que voc√™ errou:</h4>
            <div id="lista-erros-detalhe">
                </div>
            <p id="msg-sem-erros" class="oculto" style="text-align:center; color:#10b981; margin-top:20px;">
                Parab√©ns! Voc√™ gabaritou esta prova! üåü
            </p>
        </div>

        <div id="tela-privacidade" class="oculto">
            <div class="cabecalho-interno">
                <button class="btn-voltar" id="btn-voltar-privacidade">‚¨Ö Voltar</button>
                <h2>Termos e Privacidade</h2>
            </div>
            
            <div class="conteudo-texto">
                <h3>1. Termos de Uso (Isen√ß√£o de Responsabilidade)</h3>
                <p>O aplicativo <strong>CNH F√°cil</strong> √© uma ferramenta de estudo complementar e n√£o oficial. Embora nos esforcemos para manter as quest√µes atualizadas com base no C√≥digo de Tr√¢nsito Brasileiro (CTB), <strong>n√£o garantimos</strong> que o conte√∫do reflete exatamente as quest√µes da prova oficial do Detran de seu estado.</p>
                <p>O uso deste aplicativo n√£o garante a aprova√ß√£o no exame te√≥rico. O desenvolvedor n√£o se responsabiliza por reprova√ß√µes, taxas de reteste ou quaisquer danos diretos ou indiretos decorrentes do uso deste software.</p>

                <h3>2. Pol√≠tica de Privacidade</h3>
                <p>Respeitamos sua privacidade. Este aplicativo:</p>
                <ul>
                    <li>N√£o coleta dados pessoais (nome, email, telefone).</li>
                    <li>N√£o utiliza geolocaliza√ß√£o (GPS).</li>
                    <li>N√£o compartilha informa√ß√µes com terceiros.</li>
                </ul>
                <p>Todo o progresso e hist√≥rico de simulados s√£o salvos localmente na mem√≥ria do seu dispositivo. Se voc√™ desinstalar o aplicativo ou limpar os dados, esse hist√≥rico ser√° perdido.</p>

                <h3>3. Direitos Autorais</h3>
                <p>O c√≥digo-fonte e o design deste aplicativo s√£o propriedade intelectual do desenvolvedor. As quest√µes s√£o de dom√≠nio p√∫blico ou baseadas na legisla√ß√£o vigente.</p>
                
                <h3>4. Contato</h3>
                <p>Para reportar erros nas quest√µes ou sugerir melhorias, entre em contato com o suporte.</p>
                
                <br>
                <p style="font-size: 0.8rem; color: #cbd5e1; text-align: center;">Vers√£o 1.0.0 ‚Ä¢ CNH F√°cil</p>
            </div>
        </div>

        <header id="header-quiz" class="oculto">
            <div class="topo-info">
                <button id="btn-sair-quiz">‚úï Sair</button>
                <div id="timer">00:00</div>
            </div>
            <div id="progresso">Quest√£o <span id="num-atual">1</span></div>
        </header>

        <main id="container-quiz" class="oculto">
            <div id="categoria-tag">Carregando...</div>
            <h2 id="pergunta">...</h2>
            
            <div id="opcoes" class="lista-opcoes"></div>

            <div id="feedback" class="oculto">
                <h3 id="titulo-feedback"></h3>
                <p id="texto-explicacao"></p>
                <button id="btn-proxima">Pr√≥xima Quest√£o</button>
            </div>
        </main>

        <div id="tela-resultado" class="oculto">
            <h2>Resultado Final</h2>
            <div class="placar">
                <span id="pontuacao-final">0</span>
                <small>de <span id="total-questoes">0</span></small>
            </div>
            <p id="mensagem-final">...</p>
            
            <button id="btn-compartilhar" class="botao-share">
                üì§ Compartilhar Resultado
            </button>

            <button id="btn-reiniciar">Voltar ao Menu</button>
        </div>

    </div>

    <script type="module" src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js').catch(err => console.log(err));
            });
        }
    </script>
</body>
</html>